!function(){"use strict";const e={en:["`","1","2","3","4","5","6","7","8","9","0","-","=","Backspace","Tab","q","w","e","r","t","y","u","i","o","p","[","]","Delete","CapsLock","a","s","d","f","g","h","j","k","l",";","'","Enter","Shift","z","x","c","v","b","n","m",",",".","ArrowUp","/","Shift","Ctrl","Meta","Alt"," ","Alt","ArrowLeft","ArrowDown","ArrowRight","Ctrl"],ru:["ё","1","2","3","4","5","6","7","8","9","0","-","=","Backspace","Tab","й","ц","у","к","е","н","г","ш","щ","з","х","ъ","Delete","CapsLock","ф","ы","в","а","п","р","о","л","д","ж","э","Enter","Shift","я","ч","с","м","и","т","ь","б","ю","ArrowUp",".","Shift","Ctrl","Meta","Alt"," ","Alt","ArrowLeft","ArrowDown","ArrowRight","Ctrl"],letters:{en:["q","w","e","r","t","y","u","i","o","p","a","s","d","f","g","h","j","k","l","z","x","c","v","b","n","m"],ru:["й","ц","у","к","е","н","г","ш","щ","з","х","ъ","ф","ы","в","а","п","р","о","л","д","ж","э","я","ч","с","м","и","т","ь","б","ю"]},symbols:{en:["~","!","@","#","$","%","^","&","*","(",")","_","+","Backspace","Tab","q","w","e","r","t","y","u","i","o","p","{","}","Delete","CapsLock","a","s","d","f","g","h","j","k","l",":",'"',"Enter","Shift","z","x","c","v","b","n","m","<",">","ArrowUp","?","Shift","Ctrl","Meta","Alt"," ","Alt","ArrowLeft","ArrowDown","ArrowRight","Ctrl"],ru:["Ё","!",'"',"№",";","%",":","?","*","(",")","_","+","Backspace","Tab","й","ц","у","к","е","н","г","ш","щ","з","х","ъ","Delete","CapsLock","ф","ы","в","а","п","р","о","л","д","ж","э","Enter","Shift","я","ч","с","м","и","т","ь","б","ю","ArrowUp",",","Shift","Ctrl","Meta","Alt"," ","Alt","ArrowLeft","ArrowDown","ArrowRight","Ctrl"]}};let t="en",s=[],o=!1;const a=function(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.symbols;const o=document.querySelectorAll(".key"),a=s[t];for(let e=0;e<o.length;e+=1)o[e].innerHTML=`<span>${a[e]}</span>`},r=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en",s="";console.log(e[t].length);for(let o=0;o<e[t].length;o+=1)s+=`<div class='key key${[o]}'><span>${e[t][o]}</span></div> `;document.querySelector(".keyBoard__container").insertAdjacentHTML("beforeend",s)},c=()=>{const e=document.querySelector(".key0"),t=document.querySelector(".key13"),s=document.querySelector(".key14"),o=document.querySelector(".key27"),a=document.querySelector(".key28"),r=document.querySelector(".key40"),c=document.querySelector(".key41"),n=document.querySelector(".key53"),l=document.querySelector(".key62"),i=document.querySelector(".key57");e.classList.add("key_first-row"),o.classList.add("key_second-row"),s.classList.add("key_second-row"),t.classList.add("key_back-space"),a.classList.add("key_therd-row"),r.classList.add("key_therd-row"),c.classList.add("key_forth-row"),i.classList.add("key_space"),n.classList.add("key_right-size"),l.classList.add("key_right-size")},n=()=>{const e=document.querySelector(".key51 span"),t=document.querySelector(".key60 span"),s=document.querySelector(".key59 span"),o=document.querySelector(".key61 span");e.textContent="",t.textContent="",s.textContent="",o.textContent="",e.classList.add("arrow__up"),e.classList.add("arrow"),t.classList.add("arrow__down"),t.classList.add("arrow"),s.classList.add("arrow__left"),s.classList.add("arrow"),o.classList.add("arrow__right"),o.classList.add("arrow")},l=e=>{document.querySelector(`${e}`).classList.add("active")},i=()=>{document.querySelectorAll(".key span").forEach((s=>{e.letters[t].includes(s.textContent)&&(s.textContent=s.textContent.toUpperCase())}))},d=()=>{document.querySelectorAll(".key span").forEach((s=>{e.letters[t].includes(s.textContent.toLowerCase())&&(s.textContent=s.textContent.toLowerCase())}))},u=()=>{const e=document.querySelector(".key28");o?(i(),e.classList.add("active")):(d(),e.classList.remove("active"))},y=e=>{const t=document.querySelector("textarea"),s=document.querySelectorAll(".key span"),r=document.querySelector(".arrow-mnemonik_up"),c=document.querySelector(".arrow-mnemonik_down"),n=document.querySelector(".arrow-mnemonik_left"),d=document.querySelector(".arrow-mnemonik_right");switch(e.code){case"ShiftLeft":o=!0,a(),l(".key41"),i();break;case"ShiftRight":o=!0,a(),l(".key53"),i();break;case"AltLeft":l(".key56");break;case"AltRight":l(".key58");break;case"ControlLeft":e.preventDefault(),l(".key54");break;case"ControlRight":e.preventDefault(),l(".key62");break;case"CapsLock":o=!o,u();break;case"Tab":e.preventDefault(),s.forEach((s=>{s.textContent===e.key&&(s.closest(".key").classList.add("active"),t.value+="  ")}));break;case"Space":e.preventDefault(),s.forEach((s=>{s.textContent===e.key&&(s.closest(".key").classList.add("active"),t.value+=" ")}));break;case"Backspace":t.focus(),l(".key13");break;case"Enter":l(".key40"),t.focus();break;case"Delete":t.focus(),l(".key27");break;case"ArrowUp":l(".key51"),t.value+=r.textContent;break;case"ArrowDown":l(".key60"),t.value+=c.textContent;break;case"ArrowLeft":l(".key59"),t.value+=n.textContent;break;case"ArrowRight":l(".key61"),t.value+=d.textContent;break;default:(e=>{const t=document.querySelector("textarea"),s=document.querySelectorAll(".key span");let a=e.key;s.forEach((e=>{o?(a=a.toUpperCase(),e.textContent===a&&(e.closest(".key").classList.add("active"),t.value+=a)):(a=a.toLowerCase(),e.textContent===a&&(e.closest(".key").classList.add("active"),t.value+=a))})),t.blur()})(e)}};window.onkeydown=e=>{y(e),(e=>{"ControlLeft"===e.code&&s.push(e.code),"ShiftLeft"===e.code&&(s.includes("ControlLeft")&&(t="en"===t?"ru":"en",localStorage.setItem("language",t),document.querySelector(".keyBoard ").innerHTML="",r(t),c()),y(e)),n()})(e)},window.onkeyup=t=>{const r=document.querySelectorAll(".key span");"CapsLock"!==t.code&&r.forEach((e=>{e.textContent,t.key,e.closest(".key").classList.remove("active")})),"ShiftLeft"===t.code||"ShiftRight"===t.code?(a(e),d(),o=!1):"ArrowLeft"===t.code?document.querySelector(".key59").classList.remove("active"):"ArrowRight"===t.code?document.querySelector(".key61").classList.remove("active"):"ArrowUp"===t.code?document.querySelector(".key51").classList.remove("active"):"ArrowDown"===t.code&&document.querySelector(".key60").classList.remove("active"),s=[],n()},window.onload=()=>{(()=>{const e=localStorage.getItem("language");t=e})(),(()=>{const e=document.querySelector("body"),t=document.createElement("div");t.className="wrapper";const s=document.createElement("p");s.className="title",s.textContent="RSS виртуальная клавиатура";const o=document.createElement("textarea");o.setAttribute("cols","40"),o.setAttribute("rows","5"),o.className="input input__container";const a=document.createElement("div");a.className="keyBoard keyBoard__container";const r=document.createElement("div");r.className="arrow-mnemonik_up",r.innerHTML="&#8593";const c=document.createElement("div");c.className="arrow-mnemonik_down",c.innerHTML="&#8595";const n=document.createElement("div");n.className="arrow-mnemonik_right",n.innerHTML="&#8594";const l=document.createElement("div");l.className="arrow-mnemonik_left",l.innerHTML="&#8592";const i=document.createElement("p");i.textContent="Клавиатура создана в операционной системе Windows",i.className="content";const d=document.createElement("p");d.textContent="Для переключения языка комбинация: левыe ctrl + shift",d.className="content",e.append(t),t.append(s),t.append(o),t.append(a),e.append(i),e.append(d),e.append(r),e.append(c),e.append(n),e.append(l)})(),r(t),c(),n(),(()=>{const t=document.querySelector(".keyBoard");t.addEventListener("click",(e=>{(e=>{const t=document.querySelector("textarea");if(e.target.classList.contains("key14")||e.target.closest(".key14"))t.focus(),t.value+="  ";else if(e.target.classList.contains("key28")||e.target.closest(".key28"))o=!o,localStorage.setItem("CapsLock",o),u();else if(e.target.classList.contains("key41")||e.target.closest(".key41"))t.value+="";else if(e.target.classList.contains("key53")||e.target.closest(".key53"))t.value+="";else if(e.target.classList.contains("key54")||e.target.closest(".key54"))t.value+="";else if(e.target.classList.contains("key62")||e.target.closest(".key62"))t.value+="";else if(e.target.classList.contains("key56")||e.target.closest(".key56"))t.value+="";else if(e.target.classList.contains("key58")||e.target.closest(".key58"))t.value+="";else if(e.target.classList.contains("key40")||e.target.closest(".key40"))t.focus(),t.value+="\n";else if(e.target.classList.contains("key27")||e.target.closest(".key27")){t.focus();const e=t.selectionStart;e!==t.value-1&&(t.value=t.value.slice(0,e)+t.value.slice(e+1),t.setSelectionRange(e,e+1))}else if(e.target.classList.contains("key13")||e.target.closest(".key13")){t.focus();const e=t.selectionStart;0!==e&&(t.value=t.value.slice(0,e-1)+t.value.slice(e),t.setSelectionRange(e-1,e))}else e.target.closest(".key")&&(t.value+=e.target.textContent)})(e)})),t.addEventListener("mousedown",(e=>{const t=document.querySelector("textarea"),s=document.querySelector(".arrow-mnemonik_up"),o=document.querySelector(".arrow-mnemonik_down"),r=document.querySelector(".arrow-mnemonik_left"),c=document.querySelector(".arrow-mnemonik_right");e.target.classList.contains("key41")||e.target.closest(".key41")||e.target.classList.contains("key53")||e.target.closest(".key53")?(a(),i(),n()):e.target.classList.contains("key59")||e.target.closest(".key59")?t.value+=r.textContent:e.target.classList.contains("key51")||e.target.closest(".key51")?t.value+=s.textContent:e.target.classList.contains("key60")||e.target.closest(".key60")?t.value+=o.textContent:(e.target.classList.contains("key61")||e.target.closest(".key61"))&&(t.value+=c.textContent)})),t.addEventListener("mouseup",(t=>{(t.target.classList.contains("key41")||t.target.closest(".key41")||t.target.classList.contains("key53")||t.target.closest(".key53"))&&(a(e),d(),t.target.classList.remove("active"),n())}))})(),alert("Привет, коллега! Чуть ясности. Проект берёт данные с физической раскладки клавиатуры, тоесть с твоей! Если кнопки не работают - проверь язык ввода! Тоесть, русский будет работать только если у тебя выбран русский язык! Так же с английским. Буду благодарен за твой фидбек! Удачи в учёбе!")},window.onbeforeunload=()=>{localStorage.setItem("language",t)}}();